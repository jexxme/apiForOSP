<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LBV API Admin Dashboard</title>
    <!-- include favicon -->
    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
        integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
    <style>
        .badge-post {
            background-color: #ffcc00;
            /* Replace with your desired color */
            color: #fff;
            /* Text color, adjust if needed */
        }

        .badge-get {
            background-color: #00cd37;
            /* Replace with your desired color */
            color: #fff;
            /* Text color, adjust if needed */
        }

        .badge-put {
            background-color: #0066e2;
            /* Replace with your desired color */
            color: #fff;
            /* Text color, adjust if needed */
        }

        .badge-delete {
            background-color: #ff0000;
            /* Replace with your desired color */
            color: #fff;
            /* Text color, adjust if needed */
        }
    </style>
    <script>
        let adminToken = '';

        function getAdminToken() {
            fetch('/login', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ email: 'dashboard', password: 'dashboard2023' })
            })
                .then(response => response.json())
                .then(data => {
                    adminToken = data.access_token;
                })
                .catch((error) => {
                    console.error('Error:', error);
                });
        }

        // Call the function on site load
        window.onload = getAdminToken;
    </script>
</head>









<body class="container mt-4">
    <h1 class="mb-4 position-relative">LBV-API Admin Dashboard
        <span class="position-absolute top-0 end-0 translate-middle badge rounded-pill bg-primary text-light"
            style="font-size: 0.35em;">
            v0.1
        </span>
    </h1>

    <h2 class="mt-4">Benutzer</h2>
    <!-- Users Section -->
    <div class="accordion" id="usersAccordion">


        <!-- List of All Users -->
        <div class="card">
            <div class="card-header" id="headingUsers">
                <h2 class="mb-0">
                    <button class="btn btn-link btn-block text-left" type="button" data-toggle="collapse"
                        data-target="#collapseUsers" aria-expanded="true" aria-controls="collapseUsers">
                        <span class="badge badge-get">GET</span> Alle Benutzer
                    </button>
                </h2>
            </div>

            <div id="collapseUsers" class="collapse" aria-labelledby="headingUsers" data-parent="#usersAccordion">
                <div class="card-body">
                    <!-- Users List in Table Format -->
                    <table class="table table-bordered">
                        <thead class="thead-light">
                            <tr>
                                <th>Benutzer-ID</th>
                                <th>Vorname</th>
                                <th>E-Mail</th>
                                <th>Passwort</th>
                                <th>Admin</th>
                            </tr>
                        </thead>
                        <tbody id="usersTableBody">
                            <!-- User rows will be added here dynamically -->
                        </tbody>
                    </table>
                </div>
            </div>

        </div>



        <script>
            function fetchUsers() {
                fetch('/users', {
                    headers: { 'Authorization': 'Bearer ' + adminToken }
                })
                    .then(response => response.json())
                    .then(users => {
                        const tableBody = document.getElementById('usersTableBody');
                        tableBody.innerHTML = ''; // Clear existing content
                        users.forEach(user => {
                            const row = `<tr>
                                        <td>${user.userID}</td>
                                        <td>${user.firstName}</td>
                                        <td>${user.email}</td>
                                        <td>${user.password}</td>
                                        <td>${user.isAdmin ? 'Ja' : 'Nein'}</td>
                                     </tr>`;
                            tableBody.innerHTML += row;
                        });
                    })
                    .catch(error => {
                        console.error('Error fetching users:', error);
                    });
            }

            document.getElementById('headingUsers').addEventListener('click', fetchUsers);
        </script>






        <!-- User Information Retrieval -->
        <div class="card">
            <div class="card-header" id="headingUserInfo">
                <h2 class="mb-0">
                    <button class="btn btn-link btn-block text-left" type="button" data-toggle="collapse"
                        data-target="#collapseUserInfo" aria-expanded="false" aria-controls="collapseUserInfo">
                        <span class="badge badge-get">GET</span> Benutzerinformation abrufen
                    </button>
                </h2>
            </div>

            <div id="collapseUserInfo" class="collapse" aria-labelledby="headingUserInfo" data-parent="#usersAccordion">
                <div class="card-body">
                    <!-- Retrieve User Form -->
                    <form id="getUserForm">
                        <div class="form-group">
                            <label for="userID">Benutzer-ID:</label>
                            <input type="text" class="form-control" id="userID" name="userID" required>
                        </div>
                        <button type="submit" class="btn btn-primary">Benutzer abrufen</button>
                    </form>
                    <!-- User Information Display -->
                    <div id="userInfoDisplay" class="mt-3"></div>

                    <script>
                        document.getElementById('getUserForm').addEventListener('submit', function (event) {
                            event.preventDefault();

                            var userId = document.getElementById('userID').value;
                            fetch(`/users/${userId}`)
                                .then(response => response.json())
                                .then(data => {
                                    var display = document.getElementById('userInfoDisplay');
                                    if (data) {
                                        display.innerHTML = `
                                                     <p>Benutzer-ID: ${data.userID}</p>
                                                     <p>Vorname: ${data.firstName}</p>
                                                     <p>Email: ${data.email}</p>
                                                     <p>Passwort: ${data.password}</p>
                                                     <p>Admin: ${data.isAdmin ? 'Ja' : 'Nein'}</p>`;
                                    } else {
                                        display.innerHTML = `<p>Benutzer nicht gefunden.</p>`;
                                    }
                                })
                                .catch((error) => {
                                    showErrorToast('Benutzer nicht gefunden.');
                                });
                        });
                    </script>
                </div>
            </div>
        </div>


        <!-- User Operations -->
        <div class="card">
            <div class="card-header" id="headingUserOperations">
                <h2 class="mb-0">
                    <button class="btn btn-link btn-block text-left" type="button" data-toggle="collapse"
                        data-target="#collapseUserOperations" aria-expanded="false"
                        aria-controls="collapseUserOperations">
                        <span class="badge badge-post">POST</span> Benutzer hinzuf√ºgen
                    </button>
                </h2>
            </div>

            <div id="collapseUserOperations" class="collapse" aria-labelledby="headingUserOperations"
                data-parent="#usersAccordion">
                <div class="card-body">
                    <!-- Add User Form -->
                    <form id="addUserForm">
                        <div class="form-group">
                            <label for="email">Email:</label>
                            <input type="email" class="form-control" id="email" name="email" required>
                        </div>

                        <div class="form-group">
                            <label for="firstName">Vorname:</label>
                            <input type="text" class="form-control" id="firstName" name="firstName" required>
                        </div>

                        <div class="form-group">
                            <label for="password">Passwort:</label>
                            <input type="text" class="form-control" id="password" name="password" required>
                        </div>

                        <div class="form-check mb-3">
                            <input type="checkbox" class="form-check-input" id="isAdmin" name="isAdmin">
                            <label class="form-check-label" for="isAdmin">Ist Admin</label>
                        </div>

                        <button type="submit" class="btn btn-primary">Benutzer hinzuf√ºgen</button>
                    </form>

                    <script>
                        document.getElementById('addUserForm').addEventListener('submit', function (event) {
                            event.preventDefault();

                            var formData = {
                                email: document.getElementById('email').value,
                                firstName: document.getElementById('firstName').value,
                                password: document.getElementById('password').value,
                                isAdmin: document.getElementById('isAdmin').checked
                            };

                            fetch('/users', {
                                method: 'POST',
                                headers: {
                                    'Content-Type': 'application/json'
                                },
                                body: JSON.stringify(formData)
                            })
                                .then(response => {
                                    if (response.status === 201) {
                                        // Handle successful response
                                        return response.json().then(data => {
                                            showSuccessToast(data.message);
                                        });
                                    } else if (response.status === 400 || response.status === 409) {
                                        // Handle specific error responses (400 Bad Request or 409 Conflict)
                                        return response.json().then(data => {
                                            showErrorToast(data.message);
                                        });
                                    } else {
                                        // Handle other unexpected statuses
                                        throw new Error('Unexpected response status: ' + response.status);
                                    }
                                })
                                .catch((error) => {
                                    console.error('Error:', error);
                                    showErrorToast(error.message);
                                });




                        });
                    </script>

                </div>
            </div>
        </div>



        <!-- User Information Update -->
        <div class="card">
            <div class="card-header" id="headingUserUpdate">
                <h2 class="mb-0">
                    <button class="btn btn-link btn-block text-left" type="button" data-toggle="collapse"
                        data-target="#collapseUserUpdate" aria-expanded="false" aria-controls="collapseUserUpdate">
                        <span class="badge badge-put">PUT</span> Benutzerinformation aktualisieren
                    </button>
                </h2>
            </div>

            <div id="collapseUserUpdate" class="collapse" aria-labelledby="headingUserUpdate"
                data-parent="#usersAccordion">
                <div class="card-body">
                    <!-- Update User Form -->
                    <form id="updateUserForm">
                        <div class="form-group">
                            <label for="updateUserID">Benutzer-ID:</label>
                            <input type="text" class="form-control" id="updateUserID" name="updateUserID" required>
                        </div>
                        <button type="button" class="btn btn-primary" id="fetchUserButton">Benutzerdaten
                            abrufen</button>
                    </form>

                    <!-- Editable User Information Form -->
                    <form id="editUserForm" class="mt-3" style="display:none;">
                        <div class="form-group">
                            <label for="editEmail">Email:</label>
                            <input type="email" class="form-control" id="editEmail" name="email" required>
                        </div>

                        <div class="form-group">
                            <label for="editFirstName">Vorname:</label>
                            <input type="text" class="form-control" id="editFirstName" name="firstName" required>
                        </div>

                        <div class="form-group">
                            <label for="editPassword">Passwort:</label>
                            <input type="password" class="form-control" id="editPassword" name="password" required>
                        </div>

                        <div class="form-check mb-3">
                            <input type="checkbox" class="form-check-input" id="editIsAdmin" name="isAdmin">
                            <label class="form-check-label" for="editIsAdmin">Ist Admin</label>
                        </div>

                        <button type="submit" class="btn btn-success">√Ñnderungen speichern</button>
                    </form>

                    <script>
                        document.getElementById('fetchUserButton').addEventListener('click', function (event) {
                            var userId = document.getElementById('updateUserID').value;
                            fetch(`/users/${userId}`)
                                .then(response => response.json())
                                .then(data => {
                                    if (data) {
                                        document.getElementById('editEmail').value = data.email;
                                        document.getElementById('editFirstName').value = data.firstName;
                                        document.getElementById('editPassword').value = data.password; // Assuming password is retrievable
                                        document.getElementById('editIsAdmin').checked = data.isAdmin;
                                        document.getElementById('editUserForm').style.display = 'block';
                                    } else {
                                        showErrorToast('Benutzer nicht gefunden.');
                                    }
                                })
                                .catch((error) => {
                                    console.error('Error:', error);
                                });
                        });

                        document.getElementById('editUserForm').addEventListener('submit', function (event) {
                            event.preventDefault();
                            var userId = document.getElementById('updateUserID').value;
                            var updatedData = {
                                email: document.getElementById('editEmail').value,
                                firstName: document.getElementById('editFirstName').value,
                                password: document.getElementById('editPassword').value,
                                isAdmin: document.getElementById('editIsAdmin').checked
                            };

                            fetch(`/users/${userId}`, {
                                method: 'PUT',
                                headers: {
                                    'Content-Type': 'application/json',
                                    'Authorization': 'Bearer ' + adminToken  // Include the token in the header
                                },
                                body: JSON.stringify(updatedData)
                            })
                                .then(response => response.json())
                                .then(data => {
                                    showSuccessToast(data.message);
                                })
                                .catch((error) => {
                                    console.error('Error:', error);
                                });
                        });
                    </script>
                </div>
            </div>
        </div>
        <!-- End of User Information Update -->

        <!-- User Deletion -->
        <div class="card">
            <div class="card-header" id="headingUserDeletion">
                <h2 class="mb-0">
                    <button class="btn btn-link btn-block text-left" type="button" data-toggle="collapse"
                        data-target="#collapseUserDeletion" aria-expanded="false" aria-controls="collapseUserDeletion">
                        <span class="badge badge-danger">DELETE</span> Benutzer l√∂schen
                    </button>
                </h2>
            </div>

            <div id="collapseUserDeletion" class="collapse" aria-labelledby="headingUserDeletion"
                data-parent="#usersAccordion">
                <div class="card-body">
                    <!-- Fetch User to Delete Form -->
                    <form id="fetchUserToDeleteForm">
                        <div class="form-group">
                            <label for="deleteUserID">Benutzer-ID:</label>
                            <input type="text" class="form-control" id="deleteUserID" name="deleteUserID" required>
                        </div>
                        <button type="button" class="btn btn-primary" id="fetchUserToDeleteButton">Benutzerdaten
                            abrufen</button>
                    </form>

                    <!-- Display User Information -->
                    <div id="userToDeleteDisplay" class="mt-3"></div>

                    <!-- Delete User Button -->
                    <button type="button" class="btn btn-danger mt-3" id="deleteUserButton"
                        style="display:none;">Benutzer l√∂schen</button>

                    <script>
                        document.getElementById('fetchUserToDeleteButton').addEventListener('click', function (event) {
                            var userId = document.getElementById('deleteUserID').value;
                            fetch(`/users/${userId}`, {
                                headers: { 'Authorization': 'Bearer ' + adminToken }
                            })
                                .then(response => response.json())
                                .then(data => {
                                    if (data) {
                                        document.getElementById('userToDeleteDisplay').innerHTML = `
                                <p>Benutzer-ID: ${data.userID}</p>
                                <p>Vorname: ${data.firstName}</p>
                                <p>Email: ${data.email}</p>`;
                                        document.getElementById('deleteUserButton').style.display = 'block';
                                    } else {
                                        showErrorToast('Benutzer nicht gefunden.');
                                    }
                                })
                                .catch((error) => {
                                    console.error('Error:', error);
                                });
                        });

                        document.getElementById('deleteUserButton').addEventListener('click', function () {
                            var userId = document.getElementById('deleteUserID').value;
                            fetch(`/users/${userId}`, {
                                method: 'DELETE',
                                headers: { 'Authorization': 'Bearer ' + adminToken }
                            })
                                .then(response => response.json())
                                .then(data => {
                                    showSuccessToast(data.message);
                                })
                                .catch((error) => {
                                    console.error('Error:', error);
                                });
                        });
                    </script>
                </div>
            </div>
        </div>
        <!-- End of User Deletion -->

    </div>




























    <!-- Groups Section -->
    <h2 class="mt-4">Gruppen</h2>
    <div class="accordion" id="groupsAccordion">

        <!-- List of All Groups -->
        <div class="card">
            <div class="card-header" id="headingGroups">
                <h2 class="mb-0">
                    <button class="btn btn-link btn-block text-left" type="button" data-toggle="collapse"
                        data-target="#collapseGroups" aria-expanded="true" aria-controls="collapseGroups">
                        <span class="badge badge-get">GET</span> Alle Gruppen
                    </button>
                </h2>
            </div>

            <div id="collapseGroups" class="collapse" aria-labelledby="headingGroups" data-parent="#groupsAccordion">
                <div class="card-body">
                    <!-- Groups List in Table Format -->
                    <table class="table table-bordered">
                        <thead class="thead-light">
                            <tr>
                                <th>Gruppen-ID</th>
                                <th>Besitzer-ID</th>
                                <th>Titel</th>
                                <th>Beschreibung</th>
                                <th>Maximale Nutzer</th>
                            </tr>
                        </thead>
                        <tbody id="groupsTableBody">
                            <!-- Group rows will be added here dynamically -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <script>
            function fetchGroups() {
                fetch('/groups', {
                    headers: { 'Authorization': 'Bearer ' + adminToken }
                })
                    .then(response => response.json())
                    .then(groups => {
                        const tableBody = document.getElementById('groupsTableBody');
                        tableBody.innerHTML = ''; // Clear existing content
                        groups.forEach(group => {
                            const row = `<tr>
                                <td>${group.groupID}</td>
                                <td>${group.ownerID}</td>
                                <td>${group.title}</td>
                                <td>${group.description}</td>
                                <td>${group.maxUsers}</td>
                             </tr>`;
                            tableBody.innerHTML += row;
                        });
                    })
                    .catch(error => {
                        console.error('Error fetching groups:', error);
                    });
            }

            document.getElementById('headingGroups').addEventListener('click', fetchGroups);
        </script>


        <!-- Group Information Retrieval -->
        <div class="card">
            <div class="card-header" id="headingGroupInfo">
                <h2 class="mb-0">
                    <button class="btn btn-link btn-block text-left" type="button" data-toggle="collapse"
                        data-target="#collapseGroupInfo" aria-expanded="false" aria-controls="collapseGroupInfo">
                        <span class="badge badge-get">GET</span> Gruppeninformation abrufen
                    </button>
                </h2>
            </div>

            <div id="collapseGroupInfo" class="collapse" aria-labelledby="headingGroupInfo"
                data-parent="#groupsAccordion">
                <div class="card-body">
                    <!-- Retrieve Group Form -->
                    <form id="getGroupForm">
                        <div class="form-group">
                            <label for="groupID">Gruppen-ID:</label>
                            <input type="text" class="form-control" id="groupID" name="groupID" required>
                        </div>
                        <button type="submit" class="btn btn-primary">Gruppe abrufen</button>
                    </form>
                    <!-- Group Information Display -->
                    <div id="groupInfoDisplay" class="mt-3"></div>

                    <script>
                        document.getElementById('getGroupForm').addEventListener('submit', function (event) {
                            event.preventDefault();

                            var groupId = document.getElementById('groupID').value;
                            fetch(`/groups/${groupId}`)
                                .then(response => response.json())
                                .then(data => {
                                    var display = document.getElementById('groupInfoDisplay');
                                    if (data) {
                                        display.innerHTML = `
                                    <p>Gruppen-ID: ${data.groupID}</p>
                                    <p>Besitzer-ID: ${data.ownerID}</p>
                                    <p>Titel: ${data.title}</p>
                                    <p>Beschreibung: ${data.description}</p>
                                    <p>Maximale Nutzer: ${data.maxUsers}</p>`;
                                    } else {
                                        display.innerHTML = `<p>Gruppe nicht gefunden.</p>`;
                                    }
                                })
                                .catch((error) => {
                                    showErrorToast('Gruppe nicht gefunden.');
                                });
                        });
                    </script>
                </div>
            </div>
        </div>

        <!-- Group Operations -->
        <div class="card">
            <div class="card-header" id="headingGroupOperations">
                <h2 class="mb-0">
                    <button class="btn btn-link btn-block text-left" type="button" data-toggle="collapse"
                        data-target="#collapseGroupOperations" aria-expanded="false"
                        aria-controls="collapseGroupOperations">
                        <span class="badge badge-post">POST</span> Gruppe hinzuf√ºgen
                    </button>
                </h2>
            </div>

            <div id="collapseGroupOperations" class="collapse" aria-labelledby="headingGroupOperations"
                data-parent="#groupsAccordion">
                <div class="card-body">
                    <!-- Add Group Form -->
                    <form id="addGroupForm">
                        <div class="form-group">
                            <label for="ownerID">Besitzer-ID:</label>
                            <input type="number" class="form-control" id="ownerID" name="ownerID" required>
                        </div>

                        <div class="form-group">
                            <label for="title">Titel:</label>
                            <input type="text" class="form-control" id="title" name="title" required>
                        </div>

                        <div class="form-group">
                            <label for="description">Beschreibung:</label>
                            <input type="text" class="form-control" id="description" name="description" required>
                        </div>

                        <div class="form-group">
                            <label for="maxUsers">Maximale Nutzer:</label>
                            <input type="number" class="form-control" id="maxUsers" name="maxUsers" required>
                        </div>

                        <button type="submit" class="btn btn-primary">Gruppe hinzuf√ºgen</button>
                    </form>

                    <script>
                        document.getElementById('addGroupForm').addEventListener('submit', function (event) {
                            event.preventDefault();

                            var formData = {
                                ownerID: document.getElementById('ownerID').value,
                                title: document.getElementById('title').value,
                                description: document.getElementById('description').value,
                                maxUsers: document.getElementById('maxUsers').value
                            };

                            fetch('/groups', {
                                method: 'POST',
                                headers: {
                                    'Content-Type': 'application/json',
                                    'Authorization': 'Bearer ' + adminToken
                                },
                                body: JSON.stringify(formData)
                            })
                                .then(response => {
                                    if (response.status === 201) {
                                        // Handle successful response
                                        return response.json().then(data => {
                                            showSuccessToast(data.message);
                                        });
                                    } else if (response.status === 400 || response.status === 409) {
                                        // Handle specific error responses (400 Bad Request or 409 Conflict)
                                        return response.json().then(data => {
                                            showErrorToast(data.message);
                                        });
                                    } else {
                                        // Handle other unexpected statuses
                                        throw new Error('Unexpected response status: ' + response.status);
                                    }
                                })
                                .catch((error) => {
                                    console.error('Error:', error);
                                    showErrorToast(error.message);
                                });
                        });
                    </script>
                </div>
            </div>
        </div>

        <!-- Group Information Update -->
        <div class="card">
            <div class="card-header" id="headingGroupUpdate">
                <h2 class="mb-0">
                    <button class="btn btn-link btn-block text-left" type="button" data-toggle="collapse"
                        data-target="#collapseGroupUpdate" aria-expanded="false" aria-controls="collapseGroupUpdate">
                        <span class="badge badge-put">PUT</span> Gruppeninformation aktualisieren
                    </button>
                </h2>
            </div>

            <div id="collapseGroupUpdate" class="collapse" aria-labelledby="headingGroupUpdate"
                data-parent="#groupsAccordion">
                <div class="card-body">
                    <!-- Fetch Group Form -->
                    <form id="fetchGroupForm">
                        <div class="form-group">
                            <label for="fetchGroupID">Gruppen-ID:</label>
                            <input type="text" class="form-control" id="fetchGroupID" name="fetchGroupID" required>
                        </div>
                        <button type="button" class="btn btn-primary" id="fetchGroupButton">Gruppendaten
                            abrufen</button>
                    </form>

                    <!-- Editable Group Information Form -->
                    <form id="editGroupForm" class="mt-3" style="display:none;">
                        <div class="form-group">
                            <label for="editTitle">Titel:</label>
                            <input type="text" class="form-control" id="editTitle" name="title" required>
                        </div>

                        <div class="form-group">
                            <label for="editDescription">Beschreibung:</label>
                            <input type="text" class="form-control" id="editDescription" name="description" required>
                        </div>

                        <div class="form-group">
                            <label for="editMaxUsers">Maximale Nutzer:</label>
                            <input type="number" class="form-control" id="editMaxUsers" name="maxUsers" required>
                        </div>

                        <button type="submit" class="btn btn-success">√Ñnderungen speichern</button>
                    </form>

                    <script>
                        document.getElementById('fetchGroupButton').addEventListener('click', function (event) {
                            var groupId = document.getElementById('fetchGroupID').value;
                            fetch(`/groups/${groupId}`, {
                                headers: { 'Authorization': 'Bearer ' + adminToken }
                            })
                                .then(response => response.json())
                                .then(data => {
                                    if (data) {
                                        document.getElementById('editTitle').value = data.title;
                                        document.getElementById('editDescription').value = data.description;
                                        document.getElementById('editMaxUsers').value = data.maxUsers;
                                        document.getElementById('editGroupForm').style.display = 'block';
                                    } else {
                                        showErrorToast('Gruppe nicht gefunden.');
                                    }
                                })
                                .catch((error) => {
                                    console.error('Error:', error);
                                });
                        });

                        document.getElementById('editGroupForm').addEventListener('submit', function (event) {
                            event.preventDefault();
                            var groupId = document.getElementById('fetchGroupID').value;
                            var updatedData = {
                                title: document.getElementById('editTitle').value,
                                description: document.getElementById('editDescription').value,
                                maxUsers: document.getElementById('editMaxUsers').value
                            };

                            fetch(`/groups/${groupId}`, {
                                method: 'PUT',
                                headers: {
                                    'Content-Type': 'application/json',
                                    'Authorization': 'Bearer ' + adminToken
                                },
                                body: JSON.stringify(updatedData)
                            })
                                .then(response => response.json())
                                .then(data => {
                                    showSuccessToast(data.message);
                                })
                                .catch((error) => {
                                    console.error('Error:', error);
                                });
                        });
                    </script>
                </div>
            </div>
        </div>
        <!-- End of Group Information Update -->




        <!-- Ende Gruppen Verwaltung -->
    </div>































    <div id="toastContainer">
        <!-- Toasts will be added here -->
    </div>


    <style>
        #toastContainer {
            position: fixed;
            bottom: 0;
            right: 0;
            margin-right: 20px;
            margin-bottom: 20px;
            z-index: 11;
        }

        .toast {
            border-radius: 5px;
            margin-top: 10px;
            opacity: 1;
        }

        .toast-success {
            background-color: #28a745;
            color: white;
        }

        .toast-error {
            background-color: #dc3545;
            color: white;
        }
    </style>


    <script>
        function createToast(message, isSuccess) {
            var toast = document.createElement('div');
            toast.className = 'toast align-items-center' + (isSuccess ? ' bg-success text-white' : ' bg-danger text-white');
            toast.role = 'alert';
            toast.ariaLive = 'assertive';
            toast.ariaAtomic = 'true';
            toast.innerHTML = `
                <div class="d-flex">
                    <div class="toast-body">${message}</div>
                </div>
            `;

            toast.addEventListener('hidden.bs.toast', function () {
                toast.remove();
            });

            document.getElementById('toastContainer').appendChild(toast);
            return toast;
        }

        function showSuccessToast(message) {
            var toastEl = createToast(message, true);
            new bootstrap.Toast(toastEl, { delay: 5000 }).show();
        }

        function showErrorToast(message) {
            var toastEl = createToast(message, false);
            new bootstrap.Toast(toastEl, { delay: 10000 }).show();
        }

        // Example usage
        // showSuccessToast('This is a success message!');
        // showErrorToast('This is an error message!');
    </script>































    <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct"
        crossorigin="anonymous"></script>




</body>

</html>