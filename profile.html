<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profil</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
        integrity="sha384-4LISF5TTJX/fLmGSxO53rV4miRxdg84mZsxmO8Rx5jGtp/LbrixFETvWa5a6sESd" crossorigin="anonymous">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/css/bootstrap.min.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            padding-top: 50px;
            background-color: #f4f4f4;
        }

        .profile-card {
            display: flex;
            align-items: flex-start;
            background-color: #fff;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            width: 35rem;
        }

        .profile-picture-container {
            padding: 40px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .profile-picture {
            background-color: #ccc;
            width: 120px;
            height: 120px;
            border-radius: 50%;
        }

        .button {
            margin-top: 10px;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            background-color: #007bff;
            color: white;
            font-size: 16px;
            cursor: pointer;
            text-align: center;
            width: 100%;
            /* subtract padding */
        }

        .warning {
            margin-top: 10px;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            background-color: #ff1403;
            color: white;
            font-size: 16px;
            cursor: pointer;
            text-align: center;
            width: 100%;
            /* subtract padding */
        }

        .profile-info {
            padding: 40px;
            flex-grow: 1;
        }

        .profile-info h3 {
            margin: 0;
            margin-bottom: 5px;
        }

        .profile-info p {
            color: #666;
            margin: 0;
            margin-bottom: 10px;
        }

        .pp {
            padding: 10px 10px;
        }
    </style>

</head>

<body>
    <div class="profile-card">
        <div class="profile-picture-container">
            <div class="profile-picture"></div>
            <button class="button pp" style="background-color: #6c757d;">Bild ändern</button>
        </div>
        <div class="profile-info">
            <h3 id="name">Max Mustermann <a class="bi bi-pencil" onclick="editName()" style="cursor: pointer;"></a></h3>
            <p id="email">max.muster@muster.com</p>
            <button class="button" onclick="editPassword()">Passwort ändern</button>
            <button class="button warning" onclick="">Konto löschen</button>
        </div>
    </div>

    <!-- Bootstrap Modal for change password-->
    <div class="modal fade" id="editNameModal" tabindex="-1" aria-labelledby="editNameModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="editNameModalLabel">Name ändern</h5>
                </div>
                <div class="modal-body">
                    <form id="editNameForm">
                        <div class="mb-3">
                            <label for="nameInput" class="form-label">Aktueller Name</label>
                            <input type="text" class="form-control" id="nameInput" value="">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="hideModal()">Abbrechen</button>
                    <button type="button" class="btn btn-primary" onclick="updateName()">Speichern</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Function to open the modal and display the current name
        function editName() {
            var nameElement = document.getElementById('name');
            var currentName = nameElement.childNodes[0].nodeValue.trim(); // Get only the text node value
            var nameInput = document.getElementById('nameInput');
            nameInput.value = currentName; // Set the current name in the input field
            var editNameModal = new bootstrap.Modal(document.getElementById('editNameModal'));
            editNameModal.show(); // Open the modal
        }

        // Function to update the name (you would need to add the actual update logic)
        function updateName() {
            var newName = document.getElementById('nameInput').value;
            var nameElement = document.getElementById('name');
            // Replace only the text node value, not the entire HTML content
            if (nameElement.childNodes[0].nodeType === Node.TEXT_NODE) {
                nameElement.childNodes[0].nodeValue = newName + ' '; // Ensure to add a space before the pencil icon
            }
            var editNameModal = bootstrap.Modal.getInstance(document.getElementById('editNameModal'));
            editNameModal.hide(); // Close the modal
        }
    </script>


    <!-- Bootstrap Modal for Changing Password -->
    <div class="modal fade" id="changePasswordModal" tabindex="-1" aria-labelledby="changePasswordModalLabel"
        aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="changePasswordModalLabel">Passwort ändern</h5>
                </div>
                <div class="modal-body">
                    <form id="changePasswordForm">
                        <div class="mb-3">
                            <label for="currentPassword" class="form-label">Aktuelles Passwort</label>
                            <input type="password" class="form-control" id="currentPassword">
                        </div>
                        <div class="mb-3">
                            <label for="newPassword" class="form-label">Neues Passwort</label>
                            <input type="password" class="form-control" id="newPassword">
                        </div>
                        <div class="mb-3">
                            <label for="confirmNewPassword" class="form-label">Neues Passwort bestätigen</label>
                            <input type="password" class="form-control" id="confirmNewPassword">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="hideModal()">Abbrechen</button>
                    <button type="button" class="btn btn-primary" onclick="updatePassword()">Speichern</button>
                </div>
            </div>
        </div>
    </div>


    <script>
        function editPassword() {
            var changePasswordModal = new bootstrap.Modal(document.getElementById('changePasswordModal'));
            changePasswordModal.show();
        }

        function updatePassword() {
            // Get the values from the form
            var currentPassword = document.getElementById('currentPassword').value;
            var newPassword = document.getElementById('newPassword').value;
            var confirmNewPassword = document.getElementById('confirmNewPassword').value;

            // Add your logic to update the password here

            // Hide the modal after the update logic
            var changePasswordModal = bootstrap.Modal.getInstance(document.getElementById('changePasswordModal'));
            changePasswordModal.hide();
        }
    </script>






    <script>
        // Function to manually hide the modal
        function hideModal() {
            var editNameModal = bootstrap.Modal.getInstance(document.getElementById('editNameModal'));
            if (editNameModal) {
                editNameModal.hide();
            }
            var changePasswordModal = bootstrap.Modal.getInstance(document.getElementById('changePasswordModal'));
            if (changePasswordModal) {
                changePasswordModal.hide();
            }
        }
    </script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/js/bootstrap.bundle.min.js"></script>
</body>

</html>